<div class="product">
  <app-product-image [productImagesUrls]="product().images"></app-product-image>
  <mat-card>
    <mat-card-header>
      <mat-card-title-group>
        <mat-card-title class="truncate">
          {{ product().title}}
        </mat-card-title>
        <mat-card-subtitle>
          {{ product().brand }}
        </mat-card-subtitle>
      </mat-card-title-group>
    </mat-card-header>
    <mat-card-content>
      <mat-card>{{ product().category }}</mat-card>
      <mat-card>{{ product().price | currency }}</mat-card>
      <app-star-rating [averageRating]="product().avg_rating"></app-star-rating>
    </mat-card-content>
    <mat-card-actions>
      <button 
      (click)="buyItem()"
      mat-raised-button>
    @if(alreadyBought()){
      remove from cart
    }
    @else {
      buy
    }
    </button>
    </mat-card-actions>
    <mat-card-footer>
      <span>{{ product().discount}}</span>
      <span class="original-price">{{
        product().original_price | currency
      }}</span>
      <p class="return_policy">{{ product().return_policy }}</p>
    </mat-card-footer>
  </mat-card>
</div>
